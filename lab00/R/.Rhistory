geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
dimen
ggplot(datag) +
ggtitle(algo) +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle(algo) +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle(title = "sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size") +
scale_y_continuous("execution time(s)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)", breaks = scales::breaks_log()) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)", breaks = scales::breaks_width(500)) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
#geom_line(aes(x = n, y = exec+free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free/1e3, colour = "free()")) +
geom_line(aes(x = n, y = alloc/1e3, colour = "alloc()")) +
geom_line(aes(x = n, y = (free+alloc)/1e3, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time(s)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", trans = 'log10') +
facet_wrap(vars(setup))
datag
datag <-
data %>%
filter(algo == "sumprefix") %>%
#group_by(n, setup, exec, free, alloc) %>%
summarise(exec = mean(exec), free = mean(free), alloc = mean(alloc))
dg
datag
datag <-
data %>%
filter(algo == "sumprefix") %>%
group_by(n, setup) %>%
summarise(exec = mean(exec), free = mean(free), alloc = mean(alloc))
datag <-
data %>%
filter(algo == "sumprefix") %>%
group_by(n) %>%
summarise(exec = mean(exec), free = mean(free), alloc = mean(alloc))
datag <-
data %>%
filter(algo == "sumprefix") %>%
group_by(n, setup) %>%
summarise(exec = mean(exec), free = mean(free), alloc = mean(alloc))
datag
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", trans = 'log10') +
facet_wrap(vars(setup))
View(datag)
?scale_y_continuous
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", trans = 'time') +
facet_wrap(vars(setup))
}) +
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", trans = trans_new("to ms", function(x) x/1e3)) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", trans = scales::trans_new("to ms", function(x) x/1e3)) +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)") +
facet_wrap(vars(setup))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)") +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom")
1e3
datag <-
data %>%
filter(algo == "sumprefix") %>%
group_by(n, setup) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)") +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom")
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom")
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = "measurement type")
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_text("measurement type"))
ggplot(datag) +
ggtitle("sumprefix") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
ggplot(datag) +
ggtitle("**sumprefix**, memory measurements only") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
ggplot(datag) +
ggtitle("sumprefix", subtitle = "memory measurements only") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
ds1 <- read_csv("data.mac.csv", col_names = names, col_types = cols())
ds2 <- read_csv("data.gpu.csv", col_names = names, col_types = cols())
ds3 <- read_csv("data.gpu-vec.csv", col_names = names, col_types = cols())
data <-
full_join(ds1, ds2) %>%
full_join(ds3)
# Adding helper columns for grouping
data <-
data %>%
mutate(algo = str_extract(name, "^.*(?=\\.)")) %>%
mutate(setup = str_extract(name, "(?=.)\\w+$"))
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names)) %>%
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names)) %>%
```{r}
names <- c("name", "n", "alloc", "free", "exec")
types <- c("c", "i", "i", "i")
ds1 <- read_csv("data.mac.csv", col_names = names, col_types = cols())
ds2 <- read_csv("data.gpu.csv", col_names = names, col_types = cols())
ds3 <- read_csv("data.gpu-vec.csv", col_names = names, col_types = cols())
data <-
full_join(ds1, ds2) %>%
full_join(ds3)
# Adding helper columns for grouping
data <-
data %>%
mutate(algo = str_extract(name, "^.*(?=\\.)")) %>%
mutate(setup = str_extract(name, "(?=.)\\w+$"))
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names)) %>%
View(data)
View(data)
datag <-
data %>%
filter(algo == "sumprefix") %>%
group_by(n, setup) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
ggplot(datag) +
ggtitle("sumprefix", subtitle = "memory measurements only") +
# geom_line(aes(x = n, y = exec, colour= "execution")) +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names)) %>%
data.grouped <-
data %>%
group_by(n, setup, algo) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names)) %>%
data.grouped <-
data %>%
group_by(n, setup) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
data.grouped <-
data %>%
group_by(n, setup) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names)) %>%
data.grouped <-
data %>%
group_by(n, setup) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
data <-
read_csv("data.mac.csv", col_names = col.names) %>%
full_join(read_csv("data.gpu.csv", col_names = col.names)) %>%
full_join(read_csv("data.gpu-vec.csv", col_names = col.names))
names <- c("name", "n", "alloc", "free", "exec")
types <- c("c", "i", "i", "i")
ds1 <- read_csv("data.mac.csv", col_names = names, col_types = cols())
ds2 <- read_csv("data.gpu.csv", col_names = names, col_types = cols())
ds3 <- read_csv("data.gpu-vec.csv", col_names = names, col_types = cols())
data <-
full_join(ds1, ds2) %>%
full_join(ds3)
# Adding helper columns for grouping
data <-
data %>%
mutate(algo = str_extract(name, "^.*(?=\\.)")) %>%
mutate(setup = str_extract(name, "(?=.)\\w+$"))
data.grouped <-
data %>%
group_by(n, setup) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
data.grouped <-
data %>%
group_by(n, setup, algo) %>%
summarise(
exec = mean(exec)/1e3,
free = mean(free)/1e3,
alloc = mean(alloc)/1e3,
)
# geom_line(aes(x = n, y = exec, colour= "execution")) +
plot.mem <- function(df, algo) {
ggplot(df) +
ggtitle(title = algo, subtitle = "memory measurements only") +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
}
p <- plot.mem(data.grouped, "sumprefix")
ggplot(df) +
ggtitle(subtitle = "memory measurements only") +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
# geom_line(aes(x = n, y = exec, colour= "execution")) +
plot.mem <- function(df, algo) {
ggplot(df) +
ggtitle(subtitle = "memory measurements only") +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
}
p <- plot.mem(data.grouped, "sumprefix")
# geom_line(aes(x = n, y = exec, colour= "execution")) +
plot.mem <- function(df, algo) {
ggplot(df) +
ggtitle(subtitle = "memory measurements only") +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
}
# geom_line(aes(x = n, y = exec, colour= "execution")) +
plot.mem <- function(df, a) {
df <- filter(algo == a)
ggplot(df) +
ggtitle(a, subtitle = "memory measurements only") +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
}
p <- plot.mem(data.grouped, "sumprefix")
df <- filter(df, algo == a)
# geom_line(aes(x = n, y = exec, colour= "execution")) +
plot.mem <- function(df, a) {
df <- filter(df, algo == a)
ggplot(df) +
ggtitle(a, subtitle = "memory measurements only") +
geom_line(aes(x = n, y = free, colour = "free()")) +
geom_line(aes(x = n, y = alloc, colour = "alloc()")) +
geom_line(aes(x = n, y = free+alloc, colour = "tot")) +
scale_x_continuous("array size", labels = scales::label_number_si()) +
scale_y_continuous("execution time (ms)", breaks = scales::breaks_width(5)) +
facet_wrap(vars(setup)) +
theme(legend.position = "bottom", legend.title = element_blank())
}
p <- plot.mem(data.grouped, "sumprefix")
p
plot.mem(data.grouped, "sumprefix")
plot.mem(data.grouped, "sumprefix")
plot_grid(
plot.mem(data.grouped, "sumprefix"),
plot.mem(data.grouped, "randsum"),
ncol = 1,
)
plot_grid(
plot.mem(data.grouped, "sumprefix"),
plot.mem(data.grouped, "randsum"),
ncol = 1,
)
plot_grid(
plot.mem(data.grouped, "sumprefix"),
plot.mem(data.grouped, "randsum"),
ncol = 1
)
